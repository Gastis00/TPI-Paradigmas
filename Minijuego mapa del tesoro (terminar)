|tesoro mapaMostrar posTesoro jugador1 jugador2 acerto1 acerto2 intentos1 intentos2 mapa ubiTesoro rta1 rta2|
intentos1:=0.
intentos2:=0.
acerto1:= false.
acerto2:= false.
jugador1:= UIManager default request:'nombre jugador 1'.
jugador2:= UIManager default request:'nombre jugador 2'.

Transcript clear.
Transcript show: '---MINIJUEGO BÚSQUEDA DEL TESORO---' ; cr.
Transcript show: '-SE PRESENTARÁ UN MAPA DE 64 CASILLEROS-' ; cr.
Transcript show: '-SE JUGARÁ EN DIFERIDO, CADA UNO EN SU TURNO-' ; cr.
Transcript show: '-EL JUGADOR QUE ENCUENTRE EL TESORO PRIMERO SERÁ EL GANADOR-' ; cr.
UIManager default request: 'PRESIONE ENTER CUANDO ESTÉ PREPARADO'. 
Transcript cr. "para que se vea mejor"

[ (acerto1 not) and: (acerto2 not) ] whileTrue:[
	mapa:= Array new: 64.
	mapaMostrar:= Array new: 64.

	tesoro:= 'TESORO'.

	1 to: 64 do: [:i|
		mapa at: i put: 'FRIIIIIO'.
		mapaMostrar at: i put: i asString.
		i asInteger.
	 ].

	posTesoro:= (1 to: 64) atRandom.
	mapa at: (posTesoro) put: tesoro.
	mapa at: (posTesoro - 9) put: 'TIBIO LOKO ESTAS CERCA'. 
	mapa at: (posTesoro - 8) put: 'CALIENTE COMO TU WA'.
	mapa at: (posTesoro - 7) put: 'TIBIO LOKO ESTAS CERCA'.
	mapa at: (posTesoro - 1) put: 'CALIENTE COMO TU WA'.
	
	mapa at: (posTesoro + 9) put: 'TIBIO LOKO ESTAS CERCA'. 
	mapa at: (posTesoro + 8) put: 'CALIENTE COMO TU WA'.
	mapa at: (posTesoro + 7) put: 'TIBIO LOKO ESTAS CERCA'.
	mapa at: (posTesoro + 1) put: 'CALIENTE COMO TU WA'.
	Transcript clear.
	Transcript show: 'TURNO DEL JUGADOR ', jugador1;cr.
	
	[ acerto1 not ] whileTrue:[
		Transcript clear.
		1 to: 8 do:[:i|
			Transcript show: '|'.
			1 to: 8 do:[:c|
				Transcript show: '  ', (mapaMostrar at:((i-1)*8)+c) asString, '  '.
				].
			Transcript show: '|'.
			Transcript cr.
			].
			
		rta1:= UIManager default chooseFrom: mapaMostrar message: 'Seleccione un casillero' title:'EL MAPA DEL TESORO'.
		intentos1:= intentos1 + 1.
		
		"CONTROLO SI GANÓ"
		(rta1 = posTesoro) ifTrue:[
			acerto1:= true.
			Transcript show: '¡ FELICIDADES HAS ENCONTRADO EL TESORO !'.
			] 
			ifFalse: [ Transcript show: (mapa at: rta1) asString.
			mapaMostrar at: rta1 put: (mapa at:rta1) asString.
		].
	].
].
"Transcript show: mapa asString;cr.
Transcript show: mapaMostrar  asString"











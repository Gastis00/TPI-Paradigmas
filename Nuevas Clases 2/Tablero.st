'From Pharo12.0.0SNAPSHOT of 2 August 2024 [Build information: Pharo-12.0.0+SNAPSHOT.build.1526.sha.404d3af7531f656b5c294762c79011c10bea1ef3 (64 Bit)] on 13 November 2024 at 1:12:30.02 am'!Object subclass: #Tablero	instanceVariableNames: 'listaJugadores ronda listaCasilleros cantJugadores dimension listCasIniciales dueloExtra'	classVariableNames: ''	package: 'AAA JuegoTPI'!!Tablero methodsFor: 'as yet unclassified' stamp: '11/8/2024 19:44'!sumarRonda	"ronda + 1"	ronda := ronda + 1.! !!Tablero methodsFor: 'as yet unclassified' stamp: '11/12/2024 21:17'!cantJugadores: unvalor	"Tamaño de tablero y de las listas asociadas"		| casi |	unvalor caseOf: { [ 1 ] -> [  cantJugadores := 64.				dimension := 8.				dueloExtra := 10.				].[ 2 ] -> [  cantJugadores := 16.				dimension := 4.					dueloExtra := 4.					].[ 3 ] -> [  cantJugadores := 4.				dimension := 2.					]. }.	1 to: dimension do: [ :f|		1 to: dimension do: [ :c|		casi := Casillero new.		casi fila: f.		casi columna: c.		listCasIniciales add: casi.		].	].! !!Tablero methodsFor: 'as yet unclassified' stamp: '11/11/2024 20:36'!inicializarJugador: nombreJugador minijuego: numeroJuego tablero: tablero numero: cont	"Inicializar instancia de jugador con su modo de juego seleccionado"| jug casi |casi := Casillero new. 	"Creo casillero vacio"jug := Jugador new.jug nombre: nombreJugador.jug id: cont.jug miniJuego: numeroJuego.casi tomarCasilleroRandom: tablero. 	"Tomo un casillero de la lista de los no asignados"(jug territorio) add: casi. 	"Lo añado a la lista de casilleros del jugador"jug contrincantes: casi dim: dimension.listaJugadores add: jug.! !!Tablero methodsFor: 'as yet unclassified' stamp: '11/9/2024 00:06'!tirarDadoJugador	"Dados que eligen cual jugador va a jugar dependiendo de quien tiene menos territorio"| probabilidades ocurrencias seleccion |probabilidades := OrderedCollection new.listaJugadores do: [ :j|	"j es un objeto de jugador"	ocurrencias := (((1/(j territorio) size) / cantJugadores) * 100) rounded.	"roudend redondea el 0.4 para abajo y el 0.5 para arriba"	ocurrencias timesRepeat: [ 		probabilidades add: j.		 ].	 ].seleccion := probabilidades atRandom.^seleccion! !!Tablero methodsFor: 'as yet unclassified' stamp: '11/12/2024 23:43'!procedimientoLucha: atacante objGame: games	"Metodo de la lucha normal entre el jugador sorteado y su contrincante"	| defensor vencedor |defensor := atacante elegirRival.games atacante: atacante defensor: defensor. vencedor := games jugar.(vencedor = atacante) ifTrue: [ 			atacante procedimientoPostCombate: defensor tablero: self ] 		ifFalse: [ 			defensor procedimientoPostCombate: atacante tablero: self].! !!Tablero methodsFor: 'as yet unclassified' stamp: '11/13/2024 01:10'!procedimientoDueloExtra: games	"Metodo del duelo extra entre los jugadores con mas terreno"	| mayor listaMayor atacante defensor |mayor := 0.listaMayor := OrderedCollection new.self listaJugadores do: [ :j|	(mayor < (j territorio) size) ifTrue: [ 		mayor := (j territorio)size .		listaMayor removeAll.		listaMayor add: j.		 ] ifFalse: [ 			(mayor = (j territorio) size) ifTrue: [ listaMayor add: j ].		 ].	 ].[ listaMayor size] caseOf: { [ 1 ] -> [atacante := (listaMayor at: 1)].[ 2 ] -> [((listaMayor at: 1) cantCombates) > ((listaMayor at: 2) cantCombates) 				ifTrue: [ atacante := (listaMayor at: 1).							defensor := (listaMayor at: 2) ] 					ifFalse: [ 						((listaMayor at: 2) cantCombates) > ((listaMayor at: 1) cantCombates) ifTrue: [	atacante := (listaMayor at: 2).																																defensor := (listaMayor at: 1)]							ifFalse: 	[((listaMayor at: 1) ultCombate) > ((listaMayor at: 2) ultCombate) ifTrue: [ atacante := (listaMayor at: 1).																																			defensor := (listaMayor at: 2)] 								ifFalse: [ 						((listaMayor at: 2) ultCombate) > ((listaMayor at: 1) ultCombate) ifTrue: [	atacante := (listaMayor at: 2).																															defensor := (listaMayor at: 1)]																]			]		]	 ] }! !!Tablero methodsFor: 'initialization' stamp: '11/8/2024 20:57'!initialize 	"Constructor de la clase tablero"	listCasIniciales := OrderedCollection new.listaCasilleros := OrderedCollection new.	listaJugadores := OrderedCollection new.ronda := 0.! !!Tablero methodsFor: 'accessing' stamp: '11/8/2024 19:44'!ronda	"Getter de ronda"	^ronda! !!Tablero methodsFor: 'accessing' stamp: '11/8/2024 20:51'!listCasIniciales	"Getter de listIniciales"	^listCasIniciales.! !!Tablero methodsFor: 'accessing' stamp: '11/8/2024 20:52'!listaCasilleros	"Getter de Lista Casilleros"	^listaCasilleros.! !!Tablero methodsFor: 'accessing' stamp: '11/9/2024 00:33'!listaJugadores	"Getter Lista de Jugadores"	^listaJugadores.! !!Tablero methodsFor: 'accessing' stamp: '11/12/2024 20:30'!cantJugadores	"Getter de cantJugadores"	^cantJugadores.! !!Tablero methodsFor: 'accessing' stamp: '11/12/2024 21:38'!dueloExtra	"Getter de duelo extra"	^dueloExtra.! !